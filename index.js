!function(i){var t={};function s(e){if(t[e])return t[e].exports;var h=t[e]={i:e,l:!1,exports:{}};return i[e].call(h.exports,h,h.exports,s),h.l=!0,h.exports}s.m=i,s.c=t,s.d=function(i,t,e){s.o(i,t)||Object.defineProperty(i,t,{enumerable:!0,get:e})},s.r=function(i){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},s.t=function(i,t){if(1&t&&(i=s(i)),8&t)return i;if(4&t&&"object"==typeof i&&i&&i.__esModule)return i;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:i}),2&t&&"string"!=typeof i)for(var h in i)s.d(e,h,function(t){return i[t]}.bind(null,h));return e},s.n=function(i){var t=i&&i.__esModule?function(){return i.default}:function(){return i};return s.d(t,"a",t),t},s.o=function(i,t){return Object.prototype.hasOwnProperty.call(i,t)},s.p="",s(s.s=0)}([function(i,t,s){"use strict";s.r(t);var e=class{constructor(i){this.x=i,this.length=100,this.height=10,this.spaceFromBorder=10,this.color="yellow",this.speed=5,this.dir=null,this.position={x:(g-this.length)/2,y:m-this.height-this.spaceFromBorder}}draw(){w.fillStyle=this.color,w.fillRect(this.position.x,this.position.y,this.length,this.height)}setDir(i){this.dir=i}move(){this.dir&&("LEFT"==this.dir?this.position.x>0&&(this.position.x-=this.speed):"RIGHT"==this.dir&&this.position.x<g-this.length&&(this.position.x+=this.speed))}};var h=class{constructor(i,t){this.size=10,this.xSpeed=Math.random(),this.ySpeed=-5,this.x=i,this.y=m-t-this.size,this.speedMultiply=1}move(){this.isStopped||(this.x+=this.xSpeed*this.speedMultiply,this.y+=this.ySpeed*this.speedMultiply)}draw(){w.fillStyle="blue",w.beginPath(),w.arc(this.x,this.y,this.size,0,2*Math.PI),w.fill()}onHit(i){if(this.isStopped)return;const t=this.y-this.size<=0,s=this.x-this.size<=0,e=this.x+this.size>=g;if(this.y+this.size>=i.position.y&&this.x+this.size>=i.position.x&&this.x-this.size<=i.position.x+i.length){this.xSpeed>0?Math.random():Math.random(),Math.abs(this.x-i.position.x+i.length/2-100);this.ySpeed*=-1}else t?this.ySpeed*=-1:(s||e)&&(this.xSpeed*=-1)}hitChain(i){if(this.y+this.size>=m-10&&this.x+this.size>=0&&this.x-this.size<=g)return this.ySpeed*=-1,!0}outOfCanvas(){return this.y-this.size>m}};var o=class{constructor(i,t){this.x=i,this.y=t,this.height=20,this.width=60}draw(){w.fillStyle="red",w.fillRect(this.x,this.y,this.width,this.height)}};var l=class{constructor(i,t){this.ySpeed=3,this.x=i,this.y=m-t,this.protect=!1,this.addBall=!1,this.addLife=!1}fall(){this.y+=this.ySpeed}work(){}workWithBall(){}workWithPaddle(){}hitPaddle(i,t){if(this.y-(m-t.height-t.spaceFromBorder)>0&&this.x>=t.position.x&&this.x<=t.position.x+t.length)return this.work(),this.workWithBall(i),this.workWithPaddle(t),!0}};var n=class extends l{constructor(i,t){super(i,t),this.size=7}draw(){w.fillStyle="green",w.beginPath(),w.arc(this.x,this.y,this.size,0,2*Math.PI,!0),w.lineTo(this.x,this.y-14),w.lineTo(this.x-6,this.y-10),w.lineTo(this.x+6,this.y-10),w.lineTo(this.x,this.y-14),w.moveTo(this.x,this.y),w.lineTo(this.x,this.y+14),w.lineTo(this.x-6,this.y+10),w.lineTo(this.x+6,this.y+10),w.lineTo(this.x,this.y+14),w.moveTo(this.x,this.y),w.lineTo(this.x-14,this.y),w.lineTo(this.x-10,this.y-6),w.lineTo(this.x-10,this.y+6),w.lineTo(this.x-14,this.y),w.moveTo(this.x,this.y),w.lineTo(this.x+14,this.y),w.lineTo(this.x+10,this.y-6),w.lineTo(this.x+10,this.y+6),w.lineTo(this.x+14,this.y),w.fill()}workWithBall(i){i.size*=1.2}};var r=class extends l{constructor(i,t){super(i,t),this.size=5}draw(){w.fillStyle="red",w.beginPath(),w.arc(this.x,this.y,this.size,0,2*Math.PI,!0),w.lineTo(this.x,this.y-10),w.lineTo(this.x-6,this.y-14),w.lineTo(this.x+6,this.y-14),w.lineTo(this.x,this.y-10),w.moveTo(this.x,this.y),w.lineTo(this.x,this.y+10),w.lineTo(this.x-6,this.y+14),w.lineTo(this.x+6,this.y+14),w.lineTo(this.x,this.y+10),w.moveTo(this.x,this.y),w.lineTo(this.x-10,this.y),w.lineTo(this.x-14,this.y-6),w.lineTo(this.x-14,this.y+6),w.lineTo(this.x-10,this.y),w.moveTo(this.x,this.y),w.lineTo(this.x+10,this.y),w.lineTo(this.x+14,this.y-6),w.lineTo(this.x+14,this.y+6),w.lineTo(this.x+10,this.y),w.fill()}workWithBall(i){i.size>3&&(i.size*=.8)}};var y=class extends l{constructor(i,t){super(i,t),this.size=20}draw(){w.fillStyle="green",w.beginPath(),w.fillRect(this.x,this.y,this.size,this.size/3),w.lineTo(this.x-3,this.y),w.lineTo(this.x-3,this.y),w.lineTo(this.x-8,this.y+this.size/6),w.lineTo(this.x-3,this.y+this.size/3),w.moveTo(this.x+this.size+3,this.y),w.lineTo(this.x+this.size+3,this.y),w.lineTo(this.x+this.size+3,this.y),w.lineTo(this.x+this.size+8,this.y+this.size/6),w.lineTo(this.x+this.size+3,this.y+this.size/3),w.fill()}workWithPaddle(i){i.length=i.length+10,i.position.x-=5}};var x=class extends l{constructor(i,t){super(i,t),this.size=20}draw(){w.fillStyle="red",w.beginPath(),w.fillRect(this.x,this.y,this.size,this.size/3),w.lineTo(this.x-8,this.y),w.lineTo(this.x-8,this.y),w.lineTo(this.x-3,this.y+this.size/6),w.lineTo(this.x-8,this.y+this.size/3),w.moveTo(this.x+this.size+8,this.y),w.lineTo(this.x+this.size+8,this.y),w.lineTo(this.x+this.size+8,this.y),w.lineTo(this.x+this.size+3,this.y+this.size/6),w.lineTo(this.x+this.size+8,this.y+this.size/3),w.fill()}workWithPaddle(i){i.length>50&&(i.length=i.length-10,i.position.x+=5)}};var a=class extends l{constructor(i,t){super(i,t)}draw(){w.fillStyle="green",w.beginPath(),w.moveTo(this.x-2,this.y),w.lineTo(this.x,this.y-2),w.lineTo(this.x-3,this.y-5),w.lineTo(this.x-5,this.y-3),w.lineTo(this.x-2,this.y),w.moveTo(this.x-7,this.y-5),w.lineTo(this.x-5,this.y-7),w.lineTo(this.x-8,this.y-10),w.lineTo(this.x-10,this.y-8),w.lineTo(this.x-7,this.y-5),w.moveTo(this.x-12,this.y-10),w.lineTo(this.x-10,this.y-12),w.lineTo(this.x-13,this.y-15),w.lineTo(this.x-15,this.y-13),w.lineTo(this.x-12,this.y-10),w.moveTo(this.x-13,this.y-19),w.lineTo(this.x-19,this.y-13),w.lineTo(this.x-19,this.y-19),w.lineTo(this.x-13,this.y-19),w.fill()}workWithBall(i){i.speedMultiply+=.3}};var d=class extends l{constructor(i,t){super(i,t)}draw(){w.fillStyle="red",w.beginPath(),w.moveTo(this.x-2,this.y),w.lineTo(this.x,this.y-2),w.lineTo(this.x-3,this.y-5),w.lineTo(this.x-5,this.y-3),w.lineTo(this.x-2,this.y),w.moveTo(this.x-7,this.y-5),w.lineTo(this.x-5,this.y-7),w.lineTo(this.x-8,this.y-10),w.lineTo(this.x-10,this.y-8),w.lineTo(this.x-7,this.y-5),w.moveTo(this.x-12,this.y-10),w.lineTo(this.x-10,this.y-12),w.lineTo(this.x-13,this.y-15),w.lineTo(this.x-15,this.y-13),w.lineTo(this.x-12,this.y-10),w.moveTo(this.x-13,this.y-19),w.lineTo(this.x-19,this.y-13),w.lineTo(this.x-19,this.y-19),w.lineTo(this.x-13,this.y-19),w.fill()}workWithBall(i){i.speedMultiply>.3&&(i.speedMultiply-=.3)}};var c=class extends l{constructor(i,t){super(i,t),this.size=8}draw(){w.fillStyle="gold",w.beginPath(),w.fillRect(this.x,this.y,this.size,this.size/3),w.fillRect(this.x+this.size+3,this.y,this.size,this.size/3),w.fillRect(this.x+2*this.size+6,this.y,this.size,this.size/3),w.fill()}work(){this.protect=!0}};var u=class{constructor(){this.size=g,this.x=0,this.y=m-10}draw(){w.fillStyle="gold",w.beginPath(),w.fillRect(this.x,this.y,this.size,5),w.fill()}};var p=class extends l{constructor(i,t){super(i,t),this.size=8}draw(){w.fillStyle="green",w.beginPath(),w.fillRect(this.x,this.y,this.size,this.size/3),w.fillRect(this.x+this.size+3,this.y,this.size,this.size/3),w.fillRect(this.x+2*this.size+6,this.y,this.size,this.size/3),w.fill()}workWithPaddle(i){i.speed+=1}};var f=class extends l{constructor(i,t){super(i,t),this.size=8}draw(){w.fillStyle="red",w.beginPath(),w.fillRect(this.x,this.y,this.size,this.size/3),w.fillRect(this.x+this.size+3,this.y,this.size,this.size/3),w.fillRect(this.x+2*this.size+6,this.y,this.size,this.size/3),w.fill()}workWithPaddle(i){i.speed>1&&(i.speed-=1)}};var T=class extends l{constructor(i,t){super(i,t),this.size=10}draw(){w.fillStyle="green",w.beginPath(),w.arc(this.x,this.y,this.size,0,2*Math.PI,!0),w.fill(),w.clearRect(this.x-2,this.y-8,4,16),w.clearRect(this.x-8,this.y-2,16,4)}work(){this.addBall=!0}};var z=class extends l{constructor(i,t){super(i,t),this.size=10}draw(){w.fillStyle="red",w.beginPath(),w.moveTo(11.25+this.x,6+this.y),w.bezierCurveTo(11.25+this.x,3.7*1.5+this.y,10.5+this.x,3.75+this.y,7.5+this.x,3.75+this.y),w.bezierCurveTo(3+this.x,3.75+this.y,3+this.x,9.375+this.y,3+this.x,9.375+this.y),w.bezierCurveTo(3+this.x,12+this.y,6+this.x,10.2*1.5+this.y,11.25+this.x,18+this.y),w.bezierCurveTo(16.5+this.x,10.2*1.5+this.y,19.5+this.x,12+this.y,19.5+this.x,9.375+this.y),w.bezierCurveTo(19.5+this.x,9.375+this.y,19.5+this.x,3.75+this.y,15+this.x,3.75+this.y),w.bezierCurveTo(12.75+this.x,3.75+this.y,11.25+this.x,3.7*1.5+this.y,11.25+this.x,6+this.y),w.fill()}work(){this.addLife=!0}};s.d(t,"canvas",function(){return v}),s.d(t,"ctx",function(){return w}),s.d(t,"cw",function(){return g}),s.d(t,"ch",function(){return m});const v=document.querySelector("canvas"),w=v.getContext("2d"),g=v.width,m=v.height,b=new e,S=[new h(b.position.x+b.length/2,b.height+b.spaceFromBorder)],P=[],k=[];let M,C=3;for(let i=0;i<=3;i++)for(let t=0;t<=8;t++){const s=new o(10+65*t,270-40*i);P.push(s)}S[0].isStopped=!0;const R=()=>{w.fillStyle="black",w.fillRect(0,0,g,m);for(let i of S)i.isStopped&&(i.x=b.position.x+b.length/2),i.move(),i.onHit(b),i.draw(),b.move();for(let i=0;i<P.length;i++)P[i].draw();b.draw();for(let i=0;i<20*C;i+=20)w.fillStyle="red",w.beginPath(),w.moveTo(7.5+i,4),w.bezierCurveTo(7.5+i,3.7,7+i,2.5,5+i,2.5),w.bezierCurveTo(2+i,2.5,2+i,6.25,2+i,6.25),w.bezierCurveTo(2+i,8,4+i,10.2,7.5+i,12),w.bezierCurveTo(11+i,10.2,13+i,8,13+i,6.25),w.bezierCurveTo(13+i,6.25,13+i,2.5,10+i,2.5),w.bezierCurveTo(8.5+i,2.5,7.5+i,3.7,7.5+i,4),w.fill();if(k.length>0)for(let i of k){i.fall(),i.draw();for(let t of S)i.hitPaddle(t,b)&&k.splice(k.indexOf(i),1);i.y>m&&k.shift(),i.protect&&(M=new u),i.addBall&&S.push(new h(b.position.x+b.length/2,b.height+b.spaceFromBorder)),i.addLife&&C++}if(M){M.draw();for(let i of S)i.hitChain(M)&&(M=null)}!function(){function i(i,t){let s=11*Math.random();s>0&&s<1?k.push(new n(i,t)):s>=1&&s<2?k.push(new r(i,t)):s>=2&&s<3?k.push(new y(i,t)):s>=3&&s<4?k.push(new x(i,t)):s>=4&&s<5?k.push(new a(i,t)):s>=5&&s<6?k.push(new d(i,t)):s>=6&&s<7?k.push(new c(i,t)):s>=7&&s<8?k.push(new p(i,t)):s>=8&&s<9?k.push(new f(i,t)):s>=9&&s<10?k.push(new T(i,t)):s>=10&&s<11&&k.push(new z(i,t))}for(let s of S){let e=s.x-s.size,h=s.y-s.size,o=s.x+s.size,l=s.y+s.size;for(var t=0;t<P.length;t++){let n=P[t].x,r=P[t].y,y=P[t].x+P[t].width,x=P[t].y+P[t].height;if(o>=n&&y>=e&&l>=r&&x>=h){P.splice(t,1),s.xSpeed=-1*s.xSpeed,s.ySpeed=-1*s.ySpeed,Math.random()<.7&&i((n+y)/2,x)}}}}();for(let i of S)i.outOfCanvas()&&S.splice(S.indexOf(i),1);S.length<=0?C>1?(S.push(new h(b.position.x+b.length/2,b.height+b.spaceFromBorder)),S[0].isStopped=!0,C--,requestAnimationFrame(R)):alert("Koniec gry, odśwież by zagrać jeszcze raz"):0===P.length?alert("Gratulacje! Wygrałeś!"):requestAnimationFrame(R)};document.addEventListener("click",i=>{for(let i of S)i.isStopped=!1}),document.addEventListener("keydown",i=>{let{keyCode:t}=i;switch(t){case 37:case 65:b.setDir("LEFT");break;case 39:case 68:b.setDir("RIGHT")}}),document.addEventListener("keyup",i=>{let{keyCode:t}=i;switch(t){case 37:case 65:case 39:case 68:b.setDir(null)}}),requestAnimationFrame(R)}]);